<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE server>
<!-- $Id$ -->

<server>

  <classpath codebase="." archives="cmptcpservice.jar"/>

  <!-- ==================================================================== -->
  <!-- CmpTcp Connection Service                                         -->
  <!-- ==================================================================== -->

  <mbean code="org.ejbca.appserver.jboss.CmpTcpService"
         name="user:service=CmpTcpService">

   <attribute name="AllowRaVerifyPopo">cmp.allowraverifypopo</attribute>
   <attribute name="DefaultCA">cmp.defaultca</attribute>
   <attribute name="ExtractUsernameComponent">cmp.extractusernamecomponent</attribute>

   <attribute name="OperationMode">cmp.operationmode</attribute>
   <attribute name="CaName">cmp.ra.caname</attribute>
   <attribute name="EeProfile">cmp.ra.endentityprofile</attribute>
   <attribute name="CertProfile">cmp.ra.certificateprofile</attribute>
   <attribute name="RaModeNameGenerationScheme">cmp.ra.namegenerationscheme</attribute>
   <attribute name="RaNameGenerationParameters">cmp.ra.namegenerationparameters</attribute>
   <attribute name="Postfix">cmp.ra.namegenerationpostfix</attribute>
   <attribute name="Prefix">cmp.ra.namegenerationprefix</attribute>
   <attribute name="RaAuthenticationSecret">cmp.ra.authenticationsecret</attribute>   
   <attribute name="ResponseProtection">cmp.responseprotection</attribute>   
   <attribute name="PortNo">cmp.tcp.portno</attribute>   
   <attribute name="LogDir">cmp.tcp.logdir</attribute>   
   <attribute name="ConfFile">cmp.tcp.conffile</attribute>   
   
                  
   <depends>jboss.j2ee:module=ejbca-ejb.jar,service=EjbModule</depends>
   <depends>jboss.j2ee:service=EJB,jndiName=RSASignSession</depends>
   <depends>jboss.j2ee:service=EJB,jndiName=HardTokenSession</depends>
   <depends>jboss.j2ee:service=EJB,jndiName=AuthorizationSession</depends>
   <depends>jboss.j2ee:service=EJB,jndiName=CertificateStoreSession</depends>
   <depends>jboss.j2ee:service=EJB,jndiName=UserAdminSession</depends>
   <depends>jboss.j2ee:service=EJB,jndiName=LogSession</depends>   
   <depends>jboss.j2ee:service=EJB,jndiName=CAAdminSession</depends>
   <depends>jboss.j2ee:service=EJB,jndiName=CreateCRLSession</depends>   
   
  </mbean>

</server>
