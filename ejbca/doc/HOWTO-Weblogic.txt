
CONFIGURING Weblogic
====================

Note: EJBCA should work fine with Weblogic 7.x/8.x

1. In the database configured for DefaultPool and DefaultDS in Weblogic, create
tables if weblogic does not do it automagically.

See the file database-tables.sql for table definitions.

Depending on how your database is organized, you may have to do the following:

Don't forget to create public synonyms and access rights for your tables, or
however you organize the data...

    CREATE PUBLIC SYNONYM CERTIFICATEDATA FOR EJBCA.CERTIFICATEDATA;
    CREATE PUBLIC SYNONYM CRLDATA FOR EJBCA.CRLDATA;
    CREATE PUBLIC SYNONYM USERDATA FOR EJBCA.USERDATA;
    GRANT UPDATE, SELECT, INSERT, DELETE ON EJBCA.CERTIFICATEDATA TO
    EJBCA;
    GRANT UPDATE, SELECT, INSERT, DELETE ON EJBCA.CRLDATA TO EJBCA;
    GRANT UPDATE, SELECT, INSERT, DELETE ON EJBCA.USERDATA TO EJBCA;
    etc...

2. Deploy the beans in weblogic, they should works straight away.

3. Copy weblogic.jar to 'lib'. Edit all commands, i.e. ra.cmd/sh, ca.cmd/sh,
batch.cmd/sh, jobrunner.cmd/sh, runtest.cmd/sh. The files are commented so it
should be obvious what needs to be changed.

4. Edit 'jndi.properties' in the directories 'ejbca' and 'ejbca/src/java' to
call Weblogic instead of JBoss.

5. Run 'runtest.cmd/sh' to test the setup.

