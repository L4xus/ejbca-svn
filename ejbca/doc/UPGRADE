$Id: UPGRADE,v 1.9 2005-04-18 09:54:53 anatom Exp $

UPGRADE
=======

This document describes proceedures needed to upgrade from one 
version of EJBCA to a new version.
Upgrades within a major version, from 2.0 to 2.0.1 for example, are 
usually plug-in upgrades and can be made simply by deploying the new 
software. See doc/RELEASE_NOTES for info about such upgrades.

From EJBCA 3.0.x to EJBCA 3.1
-----------------------------
Backup your database first! If the upgrade fails, you can always go back to the earlier version.

The upgrade process typically consists of:
1. Stop JBoss.
2. Remove JBOSS_HOME/server/default/deploy/ejbca-ca.ear, the ear file changed name.
3. Copy ejbca.properties.same to ejbca.properties and configure. 
   Pay special attention to the upgrade comments for 'CA configuration' and 'Web GUI configuration'.
4. run 'ant deploy'.
5. Copy JBOSS_HOME/bin/tomcat.jks to JBOSS_HOME/server/default/conf/keystore/keystore.jks.
5. Start JBoss.
