
CONFIGURING Weblogic
====================

Note: EJBCA should work fine with Weblogic 7.x/8.x

1. In the database configured for DefaultPool and DefaultDS in Weblogic, create
tables if weblogic does not do it automagically.

See the file create-tables-ejbca3.sql for table definitions.

2. Set the environment variable WEBLOGIC_HOME pointing to for example /bea/weblogic81 
(weblogic.jar is located under WEBLOGIC_HOME/server/lib).

3. Unforturnately you must also point JBOSS_HOME to where JBoss is located in order for the build 
script to work, at least until someone provides a weblogic.xml corresponding to bin/jboss.xml.

4. To build the ear file you probably need to copy weblogic.jar to EJBCA_HOME/lib/ext.

5. Deploy the ear file in weblogic, it should works straight away.

6. Edit 'jndi.properties' in the directories 'ejbca' and 'ejbca/src/java' to
call Weblogic instead of JBoss.

7. Run 'ant test:run' to test the setup.

JBOSS
=====

JBoss commonly have problems with class loading if several applications are run in one instance of JBoss.
This will typically manifest itself as ClassCast-, IllegalAccess- or VerifyError Exceptions. 
The reason is usually that mora than one application is using an external jar file, for example commons-fileupload.jar
or ldap.jar, possibly using different versions as well.

These links describe how to configure jboss-app.xml, etc and also describe how
JBoss classloading works.

http://wiki.jboss.org/wiki/Wiki.jsp?page=ClassLoadingConfiguration
http://wiki.jboss.org/wiki/Wiki.jsp?page=JBossClassLoadingUseCases
